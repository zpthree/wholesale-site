{"version":3,"file":"static/webpack/static/development/pages/sign-in.js.cda908e67f849e9a5e4a.hot-update.js","sources":["webpack:///./components/ErrorMessage.js","webpack:///./components/SignIn.js"],"sourcesContent":["import styled from 'styled-components';\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst ErrorStyles = styled.div`\n  padding: 2rem;\n  background: white;\n  margin: 2rem 0;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  border-left: 5px solid red;\n  p {\n    margin: 0;\n    font-weight: 100;\n  }\n  strong {\n    margin-right: 1rem;\n  }\n`;\n\nconst DisplayError = ({ error }) => {\n  if (!error || !error.message) return null;\n  if (\n    error.networkError &&\n    error.networkError.result &&\n    error.networkError.result.errors.length\n  ) {\n    return error.networkError.result.errors.map((error, i) => (\n      <ErrorStyles key={i}>\n        <p data-test=\"graphql-error\">\n          <strong>Shoot!</strong>\n          {error.message.replace('GraphQL error: ', '')}\n        </p>\n      </ErrorStyles>\n    ));\n  }\n\n  return (\n    <ErrorStyles>\n      <p data-test=\"graphql-error\">\n        <strong>Shoot!</strong>\n        {error.message.replace('GraphQL error: ', '')}\n      </p>\n    </ErrorStyles>\n  );\n};\n\nDisplayError.defaultProps = {\n  error: {},\n};\n\nDisplayError.propTypes = {\n  error: PropTypes.object,\n};\n\nexport default DisplayError;\n","import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport SignInStyles from './styles/SignInStyles';\nimport Btn from './styles/Btn';\nimport Error from './ErrorMessage';\n\nconst SIGNIN_MUTATION = gql`\n  mutation SIGNIN_MUTATION($username: String!, $password: String!) {\n    signIn(username: $username, password: $password) {\n      id\n      email\n      username\n      firstName\n    }\n  }\n`;\n\nclass SignIn extends Component {\n  state = {\n    username: '',\n    password: '',\n    rememberMe: false,\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  handleCheckbox = e => {\n    const { name } = e.target;\n    this.setState({ [name]: !this.state.rememberMe });\n  };\n\n  render() {\n    return (\n      <Mutation mutation={SIGNIN_MUTATION} variables={this.state}>\n        {(signIn, { loading, error }) => (\n          <SignInStyles>\n            <form\n              className=\"login\"\n              method=\"post\"\n              onSubmit={async e => {\n                e.preventDefault();\n                await signIn();\n                this.setState({\n                  username: '',\n                  password: '',\n                  rememberMe: false,\n                });\n              }}\n            >\n              <h3>Login</h3>\n              <Error error={error} />\n              <p>\n                Enter your username and password below to view our wholesale\n                selection.\n              </p>\n              <div className=\"form-row\">\n                <h5>Username</h5>\n                <input\n                  type=\"text\"\n                  name=\"username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"form-row\">\n                <h5>Password</h5>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div id=\"remember-me\">\n                <input\n                  type=\"checkbox\"\n                  id=\"remember\"\n                  name=\"remember\"\n                  checked={this.state.rememberMe === true && 'checked'}\n                  onChange={this.handleCheckbox}\n                />\n                <label htmlFor=\"log_remember\">\n                  <p>Remember Me</p>\n                </label>\n              </div>\n              <Btn type=\"submit\" name=\"submit\">\n                Sign In\n              </Btn>\n            </form>\n          </SignInStyles>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default SignIn;\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAcA;AAAA;AACA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AADA;AAIA;AACA;AADA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAUA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnDA;AA2DA;;;;AA/EA;AACA;AAiFA;;;;A","sourceRoot":""}