{"version":3,"file":"static/webpack/static/development/pages/account/add-new-item.js.e07b46ca0e0bd193b135.hot-update.js","sources":["webpack:///./components/CreateItem.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Link from 'next/link';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport { formatDate, parseDate } from 'react-day-picker/moment';\nimport CreateItemStyles from './styles/CreateItemStyles';\nimport Form from './styles/Form';\nimport Btn from './styles/Btn';\nimport Icon from '../elements/Icon';\n\nconst CREATE_ITEM_MUTATION = gql`\n  mutation CREATE_ITEM_MUTATION(\n    $department: String!\n    $barcode: String\n    $brand: String\n    $title: String\n    $location: String\n    $casesAvailable: Int!\n    $buyingLimit: Int\n    $casesPerSkid: Int\n    $casesPerRow: Int\n    $unitsPerCase: Float\n    $size: Float\n    $uom: String\n    $price: Int!\n    $discountPrice: Int\n    $discountQty: Int\n    # $createdAt: DateTime!\n    # $updatedAt: DateTime!\n    $expDate: String\n    $comments: String\n    $image: String\n    $largeImage: String\n  ) {\n    createProduct(\n      data: {\n        barcode: $barcode\n        brand: $brand\n        title: $title\n        department: $department\n        unitsPerCase: $unitsPerCase\n        size: $size\n        uom: $uom\n        price: $price\n        discountPrice: $discountPrice\n        discountQty: $discountQty\n        location: $location\n        casesAvailable: $casesAvailable\n        buyingLimit: $buyingLimit\n        casesPerRow: $casesPerRow\n        casesPerSkid: $casesPerSkid\n        expDate: $expDate\n        comments: $comments\n        image: $image\n        largeImage: $largeImage\n        status: \"ACTIVE\"\n      }\n    ) {\n      id\n    }\n  }\n`;\n\nclass CreateItem extends Component {\n  state = {\n    barcode: '044397265',\n    brand: 'Kraft',\n    title: 'Macaroni & Cheese Triple Cheese',\n    department: 'Dry-Groceries',\n    unitsPerCase: 6,\n    size: 4,\n    uom: 'ct.',\n    price: 4.25,\n    discountPrice: 3.5,\n    discountQty: 100,\n    expDate: '',\n    location: '138B',\n    casesAvailable: 500,\n    buyingLimit: 250,\n    casesPerRow: 15,\n    casesPerSkid: 150,\n    comments: 'This mac and cheese is the bees knees',\n  };\n\n  handleChange = e => {\n    const { name, type, value } = e.target;\n    const val = type === 'number' ? parseFloat(value) : value;\n    this.setState({ [name]: val });\n  };\n\n  resetInitialState = () => {\n    this.setState({\n      barcode: '',\n      brand: '',\n      title: '',\n      department: '',\n      unitsPerCase: '',\n      size: '',\n      uom: '',\n      price: '',\n      discountPrice: '',\n      discountQty: '',\n      expDate: '',\n      location: '',\n      casesAvailable: '',\n      buyingLimit: '',\n      casesPerRow: '',\n      casesPerSkid: '',\n      comments: '',\n    });\n\n    window.scrollTo(0, 0);\n  };\n\n  // formats money before it goes into the database\n  formatNewMoney = () => {\n    const price = this.state.price * 100;\n    const discountPrice = this.state.discountPrice * 100;\n    this.setState({ price, discountPrice });\n  };\n\n  render() {\n    return (\n      <CreateItemStyles>\n        <Mutation mutation={CREATE_ITEM_MUTATION} variables={this.state}>\n          {(createProduct, { loading, error }) => (\n            <Form\n              className=\"new-wholesale-item-form\"\n              autoComplete=\"off\"\n              onSubmit={async e => {\n                e.preventDefault();\n\n                await this.formatNewMoney();\n                const res = await createProduct();\n\n                this.resetInitialState();\n                document.querySelector('#barcode').focus();\n              }}\n            >\n              <fieldset disabled={loading} aria-busy={loading}>\n                <h4>Add New Product</h4>\n                <div className=\"form-row whs info\">\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"barcode\">\n                      <h6>Barcode</h6>\n                    </label>\n                    <input\n                      type=\"text\"\n                      id=\"barcode\"\n                      name=\"barcode\"\n                      className=\"whs-field\"\n                      value={this.state.barcode}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"brand\">\n                      <h6>Brand</h6>\n                    </label>\n                    <input\n                      type=\"text\"\n                      id=\"brand\"\n                      name=\"brand\"\n                      className=\"whs-field\"\n                      value={this.state.brand}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-half\">\n                    <label htmlFor=\"title\">\n                      <h6>\n                        Description <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <input\n                      type=\"text\"\n                      id=\"title\"\n                      name=\"title\"\n                      className=\"whs-field required\"\n                      value={this.state.title}\n                      onChange={this.handleChange}\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-row whs info\">\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"department\">\n                      <h6>\n                        Department <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <div className=\"select-menu\">\n                      <select\n                        id=\"department\"\n                        name=\"department\"\n                        className=\"whs-field\"\n                        value={this.state.department}\n                        onChange={this.handleChange}\n                        required\n                      >\n                        <option value=\"Dry-Groceries\">Dry Groceries</option>\n                        <option value=\"Frozen\">Frozen</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"unitsPerCase\">\n                      <h6>\n                        Units <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"unitsPerCase\"\n                      name=\"unitsPerCase\"\n                      className=\"whs-field required\"\n                      value={this.state.unitsPerCase}\n                      onChange={this.handleChange}\n                      required\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"size\">\n                      <h6>\n                        Size <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"size\"\n                      name=\"size\"\n                      className=\"whs-field required\"\n                      value={this.state.size}\n                      onChange={this.handleChange}\n                      required\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"uom\">\n                      <h6>\n                        UOM <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <div className=\"select-menu\">\n                      <select\n                        className=\"whs-field\"\n                        name=\"uom\"\n                        id=\"uom\"\n                        value={this.state.uom}\n                        onChange={this.handleChange}\n                        required\n                      >\n                        <option value=\"oz.\">oz.</option>\n                        <option value=\"ct.\">ct.</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"price\">\n                      <h6>\n                        Price <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"price\"\n                      name=\"price\"\n                      className=\"whs-field required\"\n                      value={this.state.price}\n                      onChange={this.handleChange}\n                      required\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"discountPrice\">\n                      <h6>Discount</h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"discountPrice\"\n                      name=\"discountPrice\"\n                      className=\"whs-field\"\n                      value={this.state.discountPrice}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"discountQty\">\n                      <h6>Discount Qty</h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"discountQty\"\n                      name=\"discountQty\"\n                      className=\"whs-field\"\n                      value={this.state.discountQty}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-row whs info\">\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"expDate\">\n                      <h6>Exp. Date</h6>\n                    </label>\n                    <DayPickerInput\n                      value={this.state.expDate}\n                      formatDate={formatDate}\n                      parseDate={parseDate}\n                      placeholder=\"\"\n                      onDayChange={day => this.setState({ expDate: day })}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"location\">\n                      <h6>Location</h6>\n                    </label>\n                    <input\n                      type=\"text\"\n                      id=\"location\"\n                      name=\"location\"\n                      className=\"whs-field\"\n                      value={this.state.location}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"casesAvailable\">\n                      <h6>\n                        Cases <span className=\"asterisk\">*</span>\n                      </h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"casesAvailable\"\n                      id=\"casesAvailable\"\n                      className=\"whs-field required\"\n                      required\n                      value={this.state.casesAvailable}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"buyingLimit\">\n                      <h6>Buying Limit</h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"buyingLimit\"\n                      name=\"buyingLimit\"\n                      className=\"whs-field required\"\n                      value={this.state.buyingLimit}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"casesPerRow\">\n                      <h6>Cases / Row</h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"casesPerRow\"\n                      name=\"casesPerRow\"\n                      className=\"whs-field\"\n                      value={this.state.casesPerRow}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className=\"row-fourth\">\n                    <label htmlFor=\"casesPerSkid\">\n                      <h6>Cases / Skid</h6>\n                    </label>\n                    <input\n                      type=\"number\"\n                      id=\"casesPerSkid\"\n                      name=\"casesPerSkid\"\n                      className=\"whs-field\"\n                      value={this.state.casesPerSkid}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-row whs info\">\n                  <div className=\"row-full\">\n                    <label htmlFor=\"comments\">\n                      <h6>Comments</h6>\n                    </label>\n                    <textarea\n                      id=\"comments\"\n                      name=\"comments\"\n                      rows=\"2\"\n                      className=\"whs-row whs-field\"\n                      value={this.state.comments}\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-footer\">\n                  <div className=\"image-area\">\n                    <Icon name=\"camera\" />\n                    <img id=\"new-whs-img-holder\" src=\"\" />\n                    <input type=\"file\" name=\"new_image\" id=\"new-whs-img\" />\n                  </div>\n                  <div className=\"form-btns\">\n                    <div id=\"submit-new-batch-container\" />\n                    <Btn type=\"submit\" id=\"submit\" name=\"submit\">\n                      Add Item\n                    </Btn>\n                    <Btn\n                      type=\"cancel\"\n                      onClick={e => {\n                        e.preventDefault();\n                        this.resetInitialState();\n                      }}\n                    >\n                      Cancel\n                    </Btn>\n                  </div>\n                </div>\n              </fieldset>\n            </Form>\n          )}\n        </Mutation>\n      </CreateItemStyles>\n    );\n  }\n}\n\nexport default CreateItem;\nexport { CREATE_ITEM_MUTATION };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAoDA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AACA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AACA;AAmBA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhSA;AAiTA;;;;AA/WA;AACA;AAiXA;;;;;A","sourceRoot":""}